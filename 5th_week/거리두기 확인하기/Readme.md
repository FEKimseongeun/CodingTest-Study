거리두기를 확인하는 방법을 BFS로 어떻게 해결할 것인가?

이 문제는 겉으로 봤을 때는, 응시자가 앉아있는 자리(P)에서 맨해튼 거리가 2인 다른 P가 있는 지 체크하는 문제지만, 바꿔서 생각하면 시작점을 P로 하고 벽('X')이 아닌 지점을 방문하는 BFS 문제로 풀 수 있다. 크기가 5x5인 매트릭스로 고정이기 때문에 모두 탐색하는 방법도 시간이 얼마 안 걸리긴 할 것..

1. BFS에서 출발 지점은?

BFS를 사용하려면 경로 탐색을 시작할 출발점이 필요하다. 이 문제에서는 응시자가 앉아있는 자리(P)가 출발 지점이 된다. P는 없을 수도 있고, 여러개일 수도 있기 때문에 시작점이 되는 P의 좌표 인덱스를 모두 구해서 start 리스트에 저장한다.

한 응시자라도 거리두기 규칙을 위반했을 때 거리두기는 실패한 것이므로(return 0) 시작점들이 저장되어있는 start 리스트를 반복하며 check한다.

→ 이 때, start 리스트에 있는 P를 하나씩 BFS 하면서 거리두기 여부 check가 완료되고 나면 '방문 처리' 리스트인 visited, '경로 길이' 리스트인 distance를 모두 초기화해야 한다.

2. 빈 테이블('O'), 파티션('X')에 대한 처리는?

P는 BFS 탐색을 시작할 때 다른 P를 만나거나 모든 탐색 가능한 지점을 방문할 때까지 상하좌우 이동을 반복한다. 그렇다면 이동 가능한 위치는 어디일까?

탐색 중 파티션('X')를 만날 때
P가 파티션('X')을 만나면 이는 벽에 가로막힌 것으로 해당 방향으로는 탐색이 불가능하다.

탐색 중 빈 테이블('O')을 만날 때
빈 테이블('O')은 마찬가지로 열려있는 공간이기 때문에 P가 탐색이 가능하다.

탐색 중 또 다른 'P' 을 만날 때
P가 이동을 계속 하다가 또 다른 P를 만나면 경로 거리를 판단해서 맨해튼 거리 2보다 작으면 거리두기 실패(return 0)을 판단하고 2보다 크면 거리두기 해당 P는 거리두기 성공을 의미한다. (P가 여러 개일 수 있으니 모든 P의 시작점에서 BFS 탐색에 성공해야 return 1을 반환해야함에 주의!)

결과적으로 P의 다음 진행할 위치가 'O'이고 그 지점이 이미 방문하지 않은 곳일 때만 BFS를 진행하면 된다.